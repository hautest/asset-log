# CLAUDE.md

## ğŸ”’ í”„ë¡œì íŠ¸ ê°œìš” (ìˆ˜ì • ê¸ˆì§€ - ë³¸ì¸ë§Œ ìˆ˜ì •)

### ì„œë¹„ìŠ¤ ì •ë³´

- **ì´ë¦„**: ìì‚°ë¡œê·¸ (AssetLog)
- **í•œ ì¤„ ì„¤ëª…**: ë§ˆì´ë°ì´í„°ê°€ ëª» ì¡ëŠ” ìˆ¨ì€ ìì‚°ê¹Œì§€ í¬í•¨í•œ ì „ì²´ ìì‚°ì„ ì°¨íŠ¸ë¡œ ì‹œê°í™”
- **íƒ€ê²Ÿ**: ìì‹ ì˜ ëª¨ë“  ìì‚°ì„ í•œ ëˆˆì— ë³´ê³  ì‹¶ì€ ì‚¬ëŒë“¤

### í•µì‹¬ ë¬¸ì œ

- ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë“¤ì€ ì—°ë™ëœ ê³„ì¢Œë§Œ ë³´ì—¬ì¤Œ
- ì „ì„¸ ë³´ì¦ê¸ˆ, ë¹Œë ¤ì¤€ ëˆ, ë¶€ë™ì‚°, í•´ì™¸ ìì‚° ë“±ì€ í¬í•¨ ì•ˆ ë¨
- ì‚¬ìš©ìê°€ ë¨¸ë¦¿ì†ìœ¼ë¡œ ê³„ì‚°í•´ì•¼ í•¨
- ì‘ë…„ ëŒ€ë¹„ ìì‚° ì¦ê°ì„ í•œëˆˆì— ë³¼ ìˆ˜ ì—†ìŒ

### í•µì‹¬ ê¸°ëŠ¥ (MVP)

README.mdì— ê¸°íšì´ ìˆìœ¼ë‹ˆ ì°¸ê³ í•´ì„œ ì‘ì—…ì„ í•´ì•¼í•¨.

1. **íšŒì›ê°€ì…/ë¡œê·¸ì¸**
2. **ìì‚° ë“±ë¡** (ì›” 1íšŒ ìˆ˜ë™ ì…ë ¥, ì´ì „ ì…ë ¥ ì •ë³´ë¥¼ ìˆ˜ì •, ì‚­ì œë„ ê°€ëŠ¥)
   - ì¹´í…Œê³ ë¦¬ë³„ ìì‚° ë“±ë¡
   - ê¸ˆì•¡, ë©”ëª¨ ì…ë ¥
3. **ì°¨íŠ¸ ì‹œê°í™”**
   - ì°¨íŠ¸ë¡œ ìì‚° ì›€ì§ì„ í™•ì¸
4. **ìì‚° ìƒì„¸ ë‚´ì—­ ì¡°íšŒ**
   - ì°¨íŠ¸ì—ì„œ íŠ¹ì • ì›” í´ë¦­ â†’ ìƒì„¸ ë‚´ì—­

### ìì‚° ì¹´í…Œê³ ë¦¬

ê¸°ë³¸ ì¹´í…Œê³ ë¦¬ë¡œ ì£¼ì‹, í˜„ê¸ˆ, ê¸ˆ, ì±„ê¶Œ, ë³´ì¦ê¸ˆ, ë¶€ë™ì‚°, ì½”ì¸, ì ê¸ˆ, ì—°ê¸ˆ, ë¹Œë ¤ì¤€ ëˆì´ ìˆê³  ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŒ.

### ì‚¬ìš©ì í”Œë¡œìš°

```
ê°€ì… â†’ ì²« ìì‚° ì…ë ¥ â†’ ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ í™•ì¸ â†’ ë§¤ì›” ë§ ìì‚° ì—…ë°ì´íŠ¸ â†’ ì°¨íŠ¸ì— ë´‰ ì¶”ê°€
```

### í–¥í›„ ê¸°ëŠ¥ (v2+)

- [ ] ë…„ë´‰ ì°¨íŠ¸
- [ ] ëª©í‘œ ìì‚° ì„¤ì •
- [ ] ìì‚° ë¶„ì„ ë¦¬í¬íŠ¸ (ì›”ë³„ ì¦ê°ë¥ , ì¹´í…Œê³ ë¦¬ë³„ ë¹„ì¤‘)
- [ ] ë¦¬ë§ˆì¸ë” ì•Œë¦¼ (ì›”ë§ ì…ë ¥ ì•Œë¦¼)
- [ ] ì»¤ë®¤ë‹ˆí‹° (ìµëª… ë˜ë˜ ë¹„êµ, ê¿€íŒ ê³µìœ )
- [ ] ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV, PDF)

### ìˆ˜ìµ ëª¨ë¸ (ì°¸ê³ ìš©)

- MVP: ë¬´ë£Œ
- í–¥í›„: í”„ë¦¬ë¯¸ì—„ êµ¬ë… (ìƒì„¸ ë¶„ì„, ë¬´ì œí•œ ìì‚° ë“±ë¡)

---

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ

### í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬

- **í”„ë ˆì„ì›Œí¬**: Waku (React Server Components)
- **ì¸ì¦**: Better Auth
- **ORM**: Drizzle ORM
- **DB**: PostgreSQL
- **ì°¨íŠ¸**: TradingView Lightweight Charts
- **ìŠ¤íƒ€ì¼**: Tailwind CSS
- **UI ì»´í¬ë„ŒíŠ¸**: Shadcn/ui
- **í˜í‚¤ì§€ ë§¤ë‹ˆì €**: pnpm

### ë°°í¬ í™˜ê²½

- **ì„œë²„**: í™ˆì„œë²„ (N100, 16GB RAM, 512GB SSD)
- **ë°°í¬ ë„êµ¬**: Dokploy
- **ë„ë©”ì¸**: ë¯¸ì •

---

## ğŸ”§ ë””ë ‰í† ë¦¬ êµ¬ì¡°

ê¸°ë³¸ì ì¸ FSD êµ¬ì¡°ë¥¼ ì»¤ìŠ¤í…€í•´ì„œ ì‚¬ìš©.

```
- src
    - shared: ë„ë©”ì¸ê³¼ ìƒê´€ ì—†ê³  ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì¶”ìƒí™”ëœ ì½”ë“œ
        - components
        - hooks
        - utils
        - ui
    - features: ë„ë©”ì¸ì´ í¬í•¨ë˜ì–´ ìˆê³  ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ ì¶”ìƒí™”ëœ ëª¨ë“ˆ
        - user
            - queries
            - components
    - pages: wakuì˜ íŒŒì¼ê¸°ë°˜ ë¼ìš°íŠ¸ êµ¬ì¡°
        - api: api routes
        - ... ì—¬ê¸°ëŠ” ì¼ë°˜ í˜ì´ì§€ë“¤
    - entities: ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‚¬ìš©í•œ ë„ë©”ì¸ íƒ€ì…
```

---

## ğŸ”§ ì½”ë”© ì»¨ë²¤ì…˜

### ë„¤ì´ë°

- **ì»´í¬ë„ŒíŠ¸**: PascalCase (`AssetForm.tsx`)
- **í•¨ìˆ˜/ë³€ìˆ˜**: camelCase (`getAssetList`)
- **ìƒìˆ˜**: UPPER_SNAKE_CASE (`MAX_ASSET_COUNT`)
- **íƒ€ì…/ì¸í„°í˜ì´ìŠ¤**: PascalCase (`AssetFormProps`, `User`)
- **íŒŒì¼ëª…**: ì»´í¬ë„ŒíŠ¸ëŠ” PascalCase, ë‚˜ë¨¸ì§€ëŠ” camelCase

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```tsx
// 1. imports
import { useState } from 'react'

// 2. types
interface AssetFormProps {
  onSubmit: (data: AssetData) => void
}

// 3. component
export function AssetForm({ onSubmit }: AssetFormProps) {
  // hooks
  const [loading, setLoading] = useState(false)

  // handlers
  const handleSubmit = () => { ... }

  // render
  return ( ... )
}
```

### íƒ€ì… ê·œì¹™

- `any` ì‚¬ìš© ê¸ˆì§€
- PropsëŠ” `interface`ë¡œ ì •ì˜
- ì¶”ë¡ ì´ ê°€ëŠ¥í•œ íƒ€ì…ì€ ë¶ˆí•„ìš”í•˜ê²Œ ì„ ì–¸ ê¸ˆì§€

### ìŠ¤íƒ€ì¼ ê·œì¹™

- Tailwind CSSë§Œ ì‚¬ìš©
- ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ê¸ˆì§€(ë‹¨, ì •ì  ë¶„ì„ì´ ë¶ˆê°€ëŠ¥í•œ ìŠ¤íƒ€ì¼ì€ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ í—ˆìš©)

---

## âŒ ê¸ˆì§€ ì‚¬í•­

- `console.log` ë‚¨ê²¨ë‘ê¸° (ë””ë²„ê¹… í›„ ì‚­ì œ)
- ì˜ë¯¸ ì—†ëŠ” ì£¼ì„ ì‚¬ìš© ê¸ˆì§€(ì£¼ì„ì´ ìˆì–´ì•¼ë§Œ ì´í•´í•  ìˆ˜ ìˆëŠ” ë³µì¡í•œ ë¶€ë¶„ì—ë§Œ ì£¼ì„ ì‚¬ìš© í—ˆìš©)
- í•˜ë“œì½”ë”©ëœ ë¬¸ìì—´ (ìƒìˆ˜ë¡œ ë¶„ë¦¬)
- ì¤‘ë³µ ì½”ë“œëŠ” 2ë²ˆê¹Œì§€ëŠ” í—ˆìš©í•˜ê³  ê·¸ ì´ìƒì€ ê°œë°œìì—ê²Œ í—ˆë½ì„ ë°›ê³  ë¶„ë¦¬ë¥¼ í•¨.

---

## âœ… í•„ìˆ˜ ì‚¬í•­

- ì—ëŸ¬ ì²˜ë¦¬ í•„ìˆ˜
- ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ê¸°ì¡´ íŒ¨í„´ ë”°ë¥´ê¸°
- ì»¤ë°‹ ì „ lint/type ì²´í¬

---

## ğŸ”§ ìì£¼ ì“°ëŠ” íŒ¨í„´

### í¼ ì²˜ë¦¬ (react-hook-form + zod)

```tsx
import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";
import { z } from "zod";

const schema = z.object({
  name: z.string().min(1, "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"),
  amount: z.number().min(0, "ê¸ˆì•¡ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"),
});

type FormData = z.infer<typeof schema>;

const form = useForm<FormData>({
  resolver: zodResolver(schema),
});
```

### ê¸°ë³¸ì ì¸ ë°ì´í„° fetching, mutation ë°©ë²•

- queries, mutations í´ë”ì—ì„œ í›… ìƒì„±
- íŒŒì¼ ì´ë¦„ê³¼ í•¨ìˆ˜ ì´ë¦„ ëì— Query, SuspenseQuery, Mutationì„ ë¶™ì–´ì•¼ í•¨.

```ts
const useUserQuery = (options?: ì´ ì˜µì…˜ì€ tanstack queryì˜ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©°, ì¬ë„¤ë¦­ íƒ€ì…ì„ ë„£ì–´ì¤Œ)=>{
    return useQuery(
        {
            queryKey: queryKey,
            queryFn:getUser()
     ,...options})
}

// ê¼­ queryFnì„ ë³„ë„ì˜ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ê³  exportí•´ì•¼í•¨ (ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ)
export const getUser = ()=>{
    const result = fetch(...)
}

// queryKeyë„ ë³„ë„ë¡œ ë¶„ë¦¬ë¥¼ í•´ì•¼í•˜ë©°, queryFnê³¼ useQueryì— queryKeyë¥¼ objectì˜ keyë¡œ í• ë‹¹í•´ì•¼í•¨.
const queryKey = ['user']
getUser.queryKey = queryKey
useUserQuery.queryKey= queryKey

```

---

## ğŸ“‹ í˜„ì¬ ì§„í–‰ ìƒí™©

- [ ] í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ… (Waku + Tailwind + Shadcn)
- [ ] DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ (Drizzle)
- [ ] ì¸ì¦ êµ¬í˜„ (Better Auth)
- [ ] ìì‚° CRUD
- [ ] ëŒ€ì‹œë³´ë“œ UI
- [ ] ì›”ë´‰ ì°¨íŠ¸ (TradingView Lightweight Charts)

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- Waku: https://waku.gg/docs
- Better Auth: https://www.better-auth.com/docs
- Drizzle ORM: https://orm.drizzle.team/docs
- TradingView Lightweight Charts: https://tradingview.github.io/lightweight-charts/docs
- Shadcn/ui: https://ui.shadcn.com/docs
- Tailwind CSS: https://tailwindcss.com/docs
